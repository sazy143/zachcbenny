---
import BaseLayout from "@layouts/BaseLayout.astro";
import { BLOG_HOST } from "@config/site";
import blogs from "@data/blogs.json";

type Blog = { slug: string; title: string; date: string; summary?: string; path: string };
const list = (blogs as Blog[]).slice().sort((a, b) => (a.date < b.date ? 1 : -1));

const canonical = `https://${BLOG_HOST}/blog.html`;
---
<BaseLayout title="Blog - Zach Bentsen" canonical={canonical}>
  <h1 class="page-title">Blog</h1>
  <ul class="blog-list">
    {list.map((b) => (
      <li class="nb-card blog-card">
        <h3 class="blog-card__title">
          <a href={b.path}>{b.title}</a>
        </h3>
        <div class="muted blog-card__meta">{new Date(b.date).toDateString()}</div>
        {b.summary && <p class="blog-card__summary">{b.summary}</p>}
      </li>
    ))}
  </ul>
</BaseLayout>
